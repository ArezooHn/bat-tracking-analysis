import pandas as pd
from pathlib import Path

# ------------------------------------------------------------------------------
# Project Configuration File
# ------------------------------------------------------------------------------
# این فایل شامل مقادیر تنظیماتی و داده‌های مرجع برای تولید داده‌های شبیه‌سازی است.
# همچنین شامل استخراج میانگین توان اسمی توربین‌های بادی از داده‌های خام پروژه است.
# ------------------------------------------------------------------------------

# مسیر فایل داده‌های خام (خروجی مقالات و دیتاست‌ها)
RAW_DATA_PATH = Path("data/raw/renewable_power_plants_DE.csv")

# ------------------------------------------------------------------------------
# 📌 بخش اول: میانگین توان اسمی توربین‌ها از فایل داده‌های خام
# ------------------------------------------------------------------------------

# توضیح: این بخش ستون "electrical_capacity" از فایل داده‌های خام را می‌خواند،
# میانگین آن را حساب می‌کند و به عنوان توان اسمی میانگین توربین‌ها ذخیره می‌کند.
# دلیل انجام این کار: برای تولید داده‌های تصادفی و شبیه‌سازی نیاز به یک مقدار
# مرجع از توان اسمی توربین‌ها داریم.
try:
    df = pd.read_csv(RAW_DATA_PATH)
    AVERAGE_TURBINE_CAPACITY_MW = df["electrical_capacity"].mean()
except FileNotFoundError:
    AVERAGE_TURBINE_CAPACITY_MW = None  # در صورت نبود فایل
except KeyError:
    AVERAGE_TURBINE_CAPACITY_MW = None  # در صورت نبود ستون

# ------------------------------------------------------------------------------
# 📌 بخش دوم: داده‌های مرجع از مقاله
# ------------------------------------------------------------------------------
# مقاله:
#   Data investigation of installed and output power densities of onshore and
#   offshore wind turbines worldwide
#   نویسندگان: Peter Enevoldsen, Mark Z. Jacobson
#   منبع: Energy, Volume 134, 2017, Pages 607–621
#
# بخش مورد استفاده در این پروژه:
#   نتایج مطالعه نشان می‌دهد که میانگین چگالی توان نصب‌شده (installed power density)
#   برای نیروگاه‌های بادی خشکی در اروپا برابر با:
#       19.8 MW/km²  (با بازه 6.2 – 46.9 MW/km²)
#   می‌باشد.
#
# اهمیت: این عدد به عنوان داده‌ی مرجع از ادبیات علمی برای مقایسه با مقادیر
#   محاسبه‌شده یا شبیه‌سازی‌های ما استفاده خواهد شد.
REFERENCE_ONSHORE_INSTALLED_POWER_DENSITY_EUROPE = 19.8  # MW/km²
REFERENCE_ONSHORE_INSTALLED_POWER_DENSITY_RANGE = (6.2, 46.9)  # MW/km²
